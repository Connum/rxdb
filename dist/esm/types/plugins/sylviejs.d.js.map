{"version":3,"file":"sylviejs.d.js","names":[],"sources":["../../../../src/types/plugins/sylviejs.d.ts"],"sourcesContent":["import type { LeaderElector } from 'broadcast-channel';\nimport { AddReturn } from 'unload';\nimport { SylvieSaveQueue } from '../../plugins/storage-sylviejs/sylvie-save-queue.ts';\n\nexport type SylvieDatabaseSettings = any;\n\nexport type SylvieCollectionSettings = Partial<any>;\n\nexport type SylvieSettings = {\n    database?: SylvieDatabaseSettings;\n    collection?: SylvieCollectionSettings;\n};\n\nexport type SylvieStorageInternals = {\n    leaderElector?: LeaderElector;\n    localState?: Promise<SylvieLocalDatabaseState>;\n};\n\nexport type SylvieRemoteRequestBroadcastMessage = {\n    response: false;\n    type: string;\n    databaseName: string;\n    collectionName: string;\n    operation: string;\n    params: any[];\n    requestId: string;\n};\n\nexport type SylvieRemoteResponseBroadcastMessage = {\n    response: true;\n    type: string;\n    databaseName: string;\n    collectionName: string;\n    requestId: string;\n    result: any | any[];\n    // if true, the result property will contain an error state\n    isError: boolean;\n};\n\nexport type SylvieDatabaseState = {\n    database: any;\n    databaseSettings: SylvieDatabaseSettings;\n    saveQueue: SylvieSaveQueue;\n\n    // all known collections of the database\n    collections: {\n        [collectionName: string]: any;\n    };\n\n    /**\n     * Registered unload handlers\n     * so we can remove them on close.\n     */\n    unloads: AddReturn[];\n};\n\nexport type SylvieLocalDatabaseState = {\n    databaseState: SylvieDatabaseState;\n    collection: any;\n};\n"],"mappings":"","ignoreList":[]}